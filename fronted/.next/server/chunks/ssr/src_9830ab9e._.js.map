{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/components/ResultadosChart.tsx"],"sourcesContent":["'use client';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from 'chart.js';\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\ninterface ResultadosChartProps {\r\n  labels: string[];\r\n  data: number[];\r\n}\r\n\r\nexport default function ResultadosChart({ labels, data }: ResultadosChartProps) {\r\n  const chartData = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: '% Probabilidad',\r\n        data,\r\n        backgroundColor: 'rgba(102, 87, 128, 0.7)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { position: 'top' as const },\r\n      title: { display: true, text: 'Probabilidades por candidato' },\r\n    },\r\n  };\r\n\r\n  return <Bar data={chartData} options={chartOptions} />;\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAYA,4JAAA,CAAA,QAAO,CAAC,QAAQ,CAAC,4JAAA,CAAA,gBAAa,EAAE,4JAAA,CAAA,cAAW,EAAE,4JAAA,CAAA,aAAU,EAAE,4JAAA,CAAA,QAAK,EAAE,4JAAA,CAAA,UAAO,EAAE,4JAAA,CAAA,SAAM;AAOhE,SAAS,gBAAgB,EAAE,MAAM,EAAE,IAAI,EAAwB;IAC5E,MAAM,YAAY;QAChB;QACA,UAAU;YACR;gBACE,OAAO;gBACP;gBACA,iBAAiB;YACnB;SACD;IACH;IAEA,MAAM,eAAe;QACnB,YAAY;QACZ,SAAS;YACP,QAAQ;gBAAE,UAAU;YAAe;YACnC,OAAO;gBAAE,SAAS;gBAAM,MAAM;YAA+B;QAC/D;IACF;IAEA,qBAAO,8OAAC,sJAAA,CAAA,MAAG;QAAC,MAAM;QAAW,SAAS;;;;;;AACxC","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/app/votaciones/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState } from 'react';\r\nimport ResultadosChart from '../../components/ResultadosChart';\r\n\r\nexport default function VotacionesPage() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [result, setResult] = useState<any>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const analizarVotos = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const res = await fetch('/api/votos/analizar');\r\n      if (!res.ok) throw new Error('Error al analizar votos');\r\n\r\n      const data = await res.json();\r\n      console.log('Datos recibidos del endpoint:', data);\r\n\r\n      setResult(data);\r\n    } catch (err: any) {\r\n      setError(err.message || 'Error desconocido');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: '1rem', maxWidth: '900px', margin: '0 auto' }}>\r\n      <h1 style={{ textAlign: 'center', marginBottom: '1rem' }}>Votaciones</h1>\r\n      <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\r\n        <button\r\n          onClick={analizarVotos}\r\n          disabled={loading}\r\n          style={{\r\n            padding: '0.5rem 1rem',\r\n            backgroundColor: '#665780',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '0.3rem',\r\n            cursor: 'pointer',\r\n          }}\r\n        >\r\n          {loading ? 'Analizando...' : 'Analizar votos'}\r\n        </button>  \r\n      </div>\r\n    \r\n      {error && <p style={{ color: 'red', textAlign: 'center' }}>{error}</p>}\r\n\r\n      {result && (\r\n        <>\r\n          <p style={{ textAlign: 'center' }}>Total votos: {result.totalVotos}</p>\r\n\r\n          <h2 style={{ marginTop: '2rem' }}>Tabla de probabilidades</h2>\r\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n            <thead>\r\n              <tr>\r\n                <th style={{ border: '1px solid #ccc', padding: '0.5rem' }}>Candidato</th>\r\n                <th style={{ border: '1px solid #ccc', padding: '0.5rem' }}>% Probabilidad</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {result.probabilidades.map((p: any, idx: number) => (\r\n                <tr key={idx}>\r\n                  <td style={{ border: '1px solid #ccc', padding: '0.5rem' }}>{p.candidato}</td>\r\n                  <td style={{ border: '1px solid #ccc', padding: '0.5rem' }}>\r\n                    {(p.probabilidad * 100).toFixed(2)}%\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          <div style={{ marginTop: '2rem' }}>\r\n            <ResultadosChart\r\n              labels={result.probabilidades.map((p: any) => p.candidato)}\r\n              data={result.probabilidades.map((p: any) => (p.probabilidad * 100).toFixed(2))}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAO;IAC1C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM,gBAAgB;QACpB,WAAW;QACX,SAAS;QACT,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAE7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,QAAQ,GAAG,CAAC,iCAAiC;YAE7C,UAAU;QACZ,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,OAAO;YAAE,SAAS;YAAQ,UAAU;YAAS,QAAQ;QAAS;;0BACjE,8OAAC;gBAAG,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;0BAAG;;;;;;0BAC1D,8OAAC;gBAAI,OAAO;oBAAE,WAAW;oBAAU,cAAc;gBAAO;0BACtD,cAAA,8OAAC;oBACC,SAAS;oBACT,UAAU;oBACV,OAAO;wBACL,SAAS;wBACT,iBAAiB;wBACjB,OAAO;wBACP,QAAQ;wBACR,cAAc;wBACd,QAAQ;oBACV;8BAEC,UAAU,kBAAkB;;;;;;;;;;;YAIhC,uBAAS,8OAAC;gBAAE,OAAO;oBAAE,OAAO;oBAAO,WAAW;gBAAS;0BAAI;;;;;;YAE3D,wBACC;;kCACE,8OAAC;wBAAE,OAAO;4BAAE,WAAW;wBAAS;;4BAAG;4BAAc,OAAO,UAAU;;;;;;;kCAElE,8OAAC;wBAAG,OAAO;4BAAE,WAAW;wBAAO;kCAAG;;;;;;kCAClC,8OAAC;wBAAM,OAAO;4BAAE,OAAO;4BAAQ,gBAAgB;wBAAW;;0CACxD,8OAAC;0CACC,cAAA,8OAAC;;sDACC,8OAAC;4CAAG,OAAO;gDAAE,QAAQ;gDAAkB,SAAS;4CAAS;sDAAG;;;;;;sDAC5D,8OAAC;4CAAG,OAAO;gDAAE,QAAQ;gDAAkB,SAAS;4CAAS;sDAAG;;;;;;;;;;;;;;;;;0CAGhE,8OAAC;0CACE,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,GAAQ,oBAClC,8OAAC;;0DACC,8OAAC;gDAAG,OAAO;oDAAE,QAAQ;oDAAkB,SAAS;gDAAS;0DAAI,EAAE,SAAS;;;;;;0DACxE,8OAAC;gDAAG,OAAO;oDAAE,QAAQ;oDAAkB,SAAS;gDAAS;;oDACtD,CAAC,EAAE,YAAY,GAAG,GAAG,EAAE,OAAO,CAAC;oDAAG;;;;;;;;uCAH9B;;;;;;;;;;;;;;;;kCAUf,8OAAC;wBAAI,OAAO;4BAAE,WAAW;wBAAO;kCAC9B,cAAA,8OAAC,qIAAA,CAAA,UAAe;4BACd,QAAQ,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,IAAW,EAAE,SAAS;4BACzD,MAAM,OAAO,cAAc,CAAC,GAAG,CAAC,CAAC,IAAW,CAAC,EAAE,YAAY,GAAG,GAAG,EAAE,OAAO,CAAC;;;;;;;;;;;;;;;;;;;AAOzF","debugId":null}}]
}