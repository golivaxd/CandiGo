{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/app/votos/page.tsx"],"sourcesContent":["import { NextApiRequest, NextApiResponse } from \"next\";\r\n// Cambia la importación\r\nconst NaiveBayes = require('ml-naivebayes');\r\n\r\n// Luego funciona igual:\r\nconst nb = new NaiveBayes();\r\n\r\n\r\n// Función para generar votos simulados\r\nfunction generarVotos(n: number) {\r\n  const opciones = [\"A\", \"B\", \"Abstención\"];\r\n  const votos: string[] = [];\r\n  for (let i = 0; i < n; i++) {\r\n    const idx = Math.floor(Math.random() * opciones.length);\r\n    votos.push(opciones[idx]);\r\n  }\r\n  return votos;\r\n}\r\n\r\nexport default function handler(req: NextApiRequest, res: NextApiResponse) {\r\n  // 1. Generar votos simulados\r\n  const votosSimulados = generarVotos(100);\r\n\r\n  // 2. Entrenar Naive Bayes\r\n  const X = votosSimulados.map(v => [v]); // características\r\n  const y = votosSimulados;               // etiquetas\r\n  const nb = new NaiveBayes();\r\n  nb.train(X, y); // <-- AQUÍ se usa Naive Bayes para aprender de los votos simulados\r\n\r\n  // 3. Predecir probabilidades\r\n  const opciones = [\"A\", \"B\", \"Abstención\"];\r\n  const probabilidades = opciones.map(opcion => ({\r\n    opcion,\r\n    probabilidad: nb.predictProb([opcion])[0] // <-- Naive Bayes calcula probabilidades\r\n  }));\r\n\r\n  // 4. Retornar resultados\r\n  res.status(200).json({ votosSimulados, probabilidades });\r\n}\r\n"],"names":[],"mappings":";;;AACA,wBAAwB;AACxB,MAAM;;;;;AAEN,wBAAwB;AACxB,MAAM,KAAK,IAAI;AAGf,uCAAuC;AACvC,SAAS,aAAa,CAAS;IAC7B,MAAM,WAAW;QAAC;QAAK;QAAK;KAAa;IACzC,MAAM,QAAkB,EAAE;IAC1B,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;QAC1B,MAAM,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,SAAS,MAAM;QACtD,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI;IAC1B;IACA,OAAO;AACT;AAEe,SAAS,QAAQ,GAAmB,EAAE,GAAoB;IACvE,6BAA6B;IAC7B,MAAM,iBAAiB,aAAa;IAEpC,0BAA0B;IAC1B,MAAM,IAAI,eAAe,GAAG,CAAC,CAAA,IAAK;YAAC;SAAE,GAAG,kBAAkB;IAC1D,MAAM,IAAI,gBAA8B,YAAY;IACpD,MAAM,KAAK,IAAI;IACf,GAAG,KAAK,CAAC,GAAG,IAAI,mEAAmE;IAEnF,6BAA6B;IAC7B,MAAM,WAAW;QAAC;QAAK;QAAK;KAAa;IACzC,MAAM,iBAAiB,SAAS,GAAG,CAAC,CAAA,SAAU,CAAC;YAC7C;YACA,cAAc,GAAG,WAAW,CAAC;gBAAC;aAAO,CAAC,CAAC,EAAE,CAAC,yCAAyC;QACrF,CAAC;IAED,yBAAyB;IACzB,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QAAE;QAAgB;IAAe;AACxD","debugId":null}}]
}