{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LVazquez/OneDrive%20-%20CERVECERIA%20CIELITO%20LINDO/Escritorio/CandiGo/fronted/src/lib/supabaseClient.ts"],"sourcesContent":["'use client';\nimport { createClient } from '@supabase/supabase-js';\nimport { useEffect } from 'react';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n    detectSessionInUrl: true,\n  },\n});\n\nexport function useAuth(onAuth: (session: any) => void) {\n  useEffect(() => {\n    const { data: subscription } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (event === 'SIGNED_IN') {\n          onAuth(session);\n        } else if (event === 'SIGNED_OUT') {\n          onAuth(null);\n        }\n      }\n    );\n\n    return () => subscription?.subscription?.unsubscribe();\n  }, [onAuth]);\n}\n\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF;AAEO,SAAS,QAAQ,MAA8B;IACpD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAC5D,OAAO,OAAO;YACZ,IAAI,UAAU,aAAa;gBACzB,OAAO;YACT,OAAO,IAAI,UAAU,cAAc;gBACjC,OAAO;YACT;QACF;QAGF,OAAO,IAAM,cAAc,cAAc;IAC3C,GAAG;QAAC;KAAO;AACb","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LVazquez/OneDrive%20-%20CERVECERIA%20CIELITO%20LINDO/Escritorio/CandiGo/fronted/src/app/candidatos/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\nimport { useEffect, useState } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/supabaseClient';\nimport './candidatos.css';\n\ninterface Candidato {\n  id: number;\n  nombre: string;\n  edad: number;\n  sexo: string;\n  escolaridad: string;\n  estatus_escolaridad: string;\n  direccion_casa_campa√±a: string;\n  telefono: string;\n  correo_electronico: string;\n  pagina_web: string;\n  partido_id: number;\n  cargo: string;\n  nivel: string;\n  entidad: string;\n  distrito_federal: string;\n  circunscripcion: string;\n  municipio: string;\n  estatus: string;\n  activo: boolean;\n}\n\ninterface Propuesta {\n  id: number;\n  candidato_id: number;\n  titulo: string;\n  descripcion: string;\n  categoria: string;\n}\n\ninterface Historia {\n  id: number;\n  candidato_id: number;\n  puesto: string;\n  institucion: string;\n  periodo: string;\n}\n\nexport default function CandidatoPage() {\n  const { id } = useParams();\n  const router = useRouter();\n\n  const [candidato, setCandidato] = useState<Candidato | null>(null);\n  const [propuestas, setPropuestas] = useState<Propuesta[]>([]);\n  const [historia, setHistoria] = useState<Historia[]>([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const { data: candidatoData } = await supabase\n        .from('candidatos')\n        .select('*')\n        .eq('id', id)\n        .single();\n\n      if (candidatoData) setCandidato(candidatoData);\n\n      const { data: propuestasData } = await supabase\n        .from('propuestas')\n        .select('*')\n        .eq('candidato_id', id);\n      setPropuestas(propuestasData || []);\n\n      const { data: historiaData } = await supabase\n        .from('historia_profesional')\n        .select('*')\n        .eq('candidato_id', id);\n      setHistoria(historiaData || []);\n    };\n    fetchData();\n  }, [id]);\n\n  useEffect(() => {\n    // delegaci√≥n: manejar todos los botones .card-toggle dentro de la p√°gina\n    const handler = (e: Event) => {\n      const btn = e.currentTarget as HTMLButtonElement;\n      const card = btn.closest('.card');\n      if (!card) return;\n      const expanded = card.classList.toggle('expanded');\n      btn.textContent = expanded ? 'Menos' : 'M√°s';\n    };\n\n    const buttons = Array.from(document.querySelectorAll<HTMLButtonElement>('.card-toggle'));\n    buttons.forEach(btn => btn.addEventListener('click', handler));\n\n    return () => buttons.forEach(btn => btn.removeEventListener('click', handler));\n  }, []);\n\n  if (!candidato) {\n    return <p className=\"loading\">Cargando perfil...</p>;\n  }\n\n  return (\n    <div className=\"perfil-container\">\n      <header className=\"perfil-header\">\n        <h1>CandiGo</h1>\n        <button onClick={() => router.back()} className=\"back-btn\">\n          Regresar\n        </button>\n      </header>\n\n      <main className=\"perfil-content\">\n        <section className=\"perfil-card\">\n          <div className=\"perfil-avatar\">\n            <div className=\"avatar-circle\">{candidato.nombre[0]}</div>\n          </div>\n\n          <div className=\"perfil-info\">\n            <h2>{candidato.nombre}</h2>\n            <p className=\"cargo\">{candidato.cargo}</p>\n            <div className=\"perfil-data\">\n              <p><strong>Edad:</strong> {candidato.edad}</p>\n              <p><strong>Sexo:</strong> {candidato.sexo}</p>\n              <p><strong>Escolaridad:</strong> {candidato.escolaridad} ({candidato.estatus_escolaridad})</p>\n              <p><strong>Entidad:</strong> {candidato.entidad}</p>\n              <p><strong>Municipio:</strong> {candidato.municipio}</p>\n              <p><strong>Correo:</strong> {candidato.correo_electronico}</p>\n              <p><strong>Tel√©fono:</strong> {candidato.telefono}</p>\n              <p><strong>Web:</strong> <a href={candidato.pagina_web} target=\"_blank\">{candidato.pagina_web}</a></p>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"perfil-section\">\n          <h3>üó≥Ô∏è Propuestas</h3>\n          <div className=\"grid\">\n            {propuestas.length > 0 ? propuestas.map(p => (\n              <div key={p.id} className=\"card\">\n                <h4>{p.titulo}</h4>\n                <p>{p.descripcion}</p>\n                <span>{p.categoria}</span>\n              </div>\n            )) : <p className=\"no-data\">Sin propuestas registradas.</p>}\n          </div>\n        </section>\n\n        <section className=\"perfil-section\">\n          <h3>üìò Experiencia Profesional</h3>\n          <div className=\"grid\">\n            {historia.length > 0 ? historia.map(h => (\n              <div key={h.id} className=\"card\">\n                <h4>{h.puesto}</h4>\n                <p>{h.institucion}</p>\n                <span>{h.periodo}</span>\n              </div>\n            )) : <p className=\"no-data\">No hay historial profesional registrado.</p>}\n          </div>\n        </section>\n      </main>\n\n      <footer className=\"perfil-footer\">\n        ¬© 2025 CandiGo ¬∑ Plataforma electoral segura y transparente.\n      </footer>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}