{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LVazquez/OneDrive%20-%20CERVECERIA%20CIELITO%20LINDO/Escritorio/CandiGo/fronted/src/lib/supabaseClient.ts"],"sourcesContent":["'use client';\nimport { createClient } from '@supabase/supabase-js';\nimport { useEffect } from 'react';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\n  auth: {\n    persistSession: true,\n    autoRefreshToken: true,\n    detectSessionInUrl: true,\n  },\n});\n\nexport function useAuth(onAuth: (session: any) => void) {\n  useEffect(() => {\n    const { data: subscription } = supabase.auth.onAuthStateChange(\n      async (event, session) => {\n        if (event === 'SIGNED_IN') {\n          onAuth(session);\n        } else if (event === 'SIGNED_OUT') {\n          onAuth(null);\n        }\n      }\n    );\n\n    return () => subscription?.subscription?.unsubscribe();\n  }, [onAuth]);\n}\n\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF;AAEO,SAAS,QAAQ,MAA8B;IACpD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAC5D,OAAO,OAAO;YACZ,IAAI,UAAU,aAAa;gBACzB,OAAO;YACT,OAAO,IAAI,UAAU,cAAc;gBACjC,OAAO;YACT;QACF;QAGF,OAAO,IAAM,cAAc,cAAc;IAC3C,GAAG;QAAC;KAAO;AACb","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LVazquez/OneDrive%20-%20CERVECERIA%20CIELITO%20LINDO/Escritorio/CandiGo/fronted/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\nimport { useRouter } from 'next/navigation';\nimport './CSS/Login.css'; // Estilos del login (form)\n\nexport default function Home() {\n  const router = useRouter();\n  const [mode, setMode] = useState<'login' | 'signup' | 'reset'>('login');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [fullName, setFullName] = useState('');\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleLogin = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\n    if (error) setMessage('Error: ' + error.message);\n    else router.push('/dashboard');\n    setIsSubmitting(false);\n  };\n\n  const handleSignup = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: {\n          full_name: fullName,\n        },\n      },\n    });\n    if (error) setMessage('Error: ' + error.message);\n    else setMessage('Cuenta creada, revisa tu correo para confirmar.');\n    setIsSubmitting(false);\n  };\n\n  const handleResetPassword = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.resetPasswordForEmail(email, {\n      redirectTo: 'https://candigo.vercel.app/reset-password', // Cambia esta URL según tu app\n    });\n    if (error) setMessage('Error: ' + error.message);\n    else setMessage('Revisa tu correo para restablecer la contraseña.');\n    setIsSubmitting(false);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (mode === 'login') await handleLogin();\n    else if (mode === 'signup') await handleSignup();\n    else if (mode === 'reset') await handleResetPassword();\n  };\n\n  return (\n    <>\n      {/* Header fijo */}\n      <header className=\"header\">\n        <div className=\"header-left\">CandiGo</div>\n        <div className=\"header-right\">\n          <button className=\"header-btn\" onClick={() => router.push('/nosotros')}>\n            Nosotros\n          </button>\n          <button className=\"header-btn\" onClick={() => router.push('/contactanos')}>\n            Contactanos\n          </button>\n        </div>\n      </header>\n\n      <div className=\"main-content-area\"> {/* Cambiado de main-container a main-content-area para mejor semántica */}\n        {/* Login/signup/reset a la izquierda */}\n        <div className=\"auth-form-container\"> {/* Cambiado a auth-form-container */}\n          <div className=\"form-card\"> {/* Agregado form-card para el estilo de la tarjeta del formulario */}\n            <div className=\"heading\">\n              {mode === 'login' && '¡Bienvenido!'}\n              {mode === 'signup' && 'Crear Cuenta'}\n              {mode === 'reset' && 'Restablecer Contraseña'}\n            </div>\n            <form className=\"form\" onSubmit={handleSubmit}>\n              {mode === 'signup' && (\n                <input\n                  placeholder=\"Nombre completo\"\n                  className=\"input\"\n                  required\n                  value={fullName}\n                  onChange={(e) => {\n                    setFullName(e.target.value);\n                    setMessage('');\n                  }}\n                />\n              )}\n              <input\n                placeholder=\"Correo Electrónico\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                className=\"input\"\n                required\n                value={email}\n                onChange={(e) => {\n                  setEmail(e.target.value);\n                  setMessage('');\n                }}\n              />\n              {(mode === 'login' || mode === 'signup') && (\n                <input\n                  placeholder=\"Contraseña\"\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  className=\"input\"\n                  required\n                  value={password}\n                  onChange={(e) => {\n                    setPassword(e.target.value);\n                    setMessage('');\n                  }}\n                />\n              )}\n              {mode === 'login' && (\n                <span className=\"forgot-password\">\n                  <button\n                    type=\"button\"\n                    className=\"link-btn\"\n                    onClick={() => {\n                      setMode('reset');\n                      setMessage('');\n                    }}\n                  >\n                    ¿Olvidaste tu contraseña?\n                  </button>\n                </span>\n              )}\n              <input\n                value={\n                  isSubmitting\n                    ? mode === 'login'\n                      ? 'Iniciando sesión...'\n                      : mode === 'signup'\n                      ? 'Creando cuenta...'\n                      : 'Enviando correo...'\n                    : mode === 'login'\n                    ? 'Iniciar Sesión'\n                    : mode === 'signup'\n                    ? 'Crear Cuenta'\n                    : 'Enviar correo'\n                }\n                type=\"submit\"\n                className=\"submit-button\" \n                disabled={isSubmitting}\n              />\n            </form>\n            <p style={{ color: '#E74C3C', textAlign: 'center', marginTop: '1rem' }}>{message}</p> {/* Color rojo más específico */}\n            <div style={{ marginTop: '1rem', textAlign: 'center' }}>\n              {mode === 'login' && (\n                <button className=\"link-btn\" onClick={() => setMode('signup')}>\n                  Crear una cuenta nueva\n                </button>\n              )}\n              {(mode === 'signup' || mode === 'reset') && (\n                <button className=\"link-btn\" onClick={() => setMode('login')}>\n                  Volver a iniciar sesión\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Sección de Bienvenida Visual a la derecha */}\n        <div className=\"welcome-visual-container\"> {/* Cambiado a welcome-visual-container */}\n          <div className=\"welcome-content\">\n            <h1 className=\"welcome-title\">Tu Voz, Tu Futuro</h1>\n            <p className=\"welcome-subtitle\">\n              Participa en elecciones transparentes y seguras.\n            </p>\n            {/* Puedes mantener tu logo si encaja, o usar una ilustración general */}\n            <img src=\"/LogoSolo.png\" alt=\"CandiGo Logo\" className=\"welcome-image\" /> \n            {/* El botón de descarga ahora es más un CTA complementario */}\n            <button className=\"welcome-cta-button\">Descargar Nuestra App</button>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}