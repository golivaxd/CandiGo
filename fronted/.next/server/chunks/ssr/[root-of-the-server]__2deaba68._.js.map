{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/lib/supabaseClient.ts"],"sourcesContent":["'use client';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { useEffect } from 'react';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true,\r\n  },\r\n});\r\n\r\nexport function useAuth(onAuth: (session: any) => void) {\r\n  useEffect(() => {\r\n    const { data: subscription } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (event === 'SIGNED_IN') {\r\n          onAuth(session);\r\n        } else if (event === 'SIGNED_OUT') {\r\n          onAuth(null);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => subscription?.subscription?.unsubscribe();\r\n  }, [onAuth]);\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF;AAEO,SAAS,QAAQ,MAA8B;IACpD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAC5D,OAAO,OAAO;YACZ,IAAI,UAAU,aAAa;gBACzB,OAAO;YACT,OAAO,IAAI,UAAU,cAAc;gBACjC,OAAO;YACT;QACF;QAGF,OAAO,IAAM,cAAc,cAAc;IAC3C,GAAG;QAAC;KAAO;AACb","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/app/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport { useRouter } from 'next/navigation';\r\nimport './CSS/Login.css'; // Estilos del login (form)\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n  const [mode, setMode] = useState<'login' | 'signup' | 'reset'>('login');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [fullName, setFullName] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    setIsSubmitting(true);\r\n    setMessage('');\r\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\r\n    if (error) setMessage('Error: ' + error.message);\r\n    else router.push('/dashboard');\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const handleSignup = async () => {\r\n    setIsSubmitting(true);\r\n    setMessage('');\r\n    const { error } = await supabase.auth.signUp({\r\n      email,\r\n      password,\r\n      options: {\r\n        data: {\r\n          full_name: fullName,\r\n        },\r\n      },\r\n    });\r\n    if (error) setMessage('Error: ' + error.message);\r\n    else setMessage('Cuenta creada, revisa tu correo para confirmar.');\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const handleResetPassword = async () => {\r\n    setIsSubmitting(true);\r\n    setMessage('');\r\n    const { error } = await supabase.auth.resetPasswordForEmail(email, {\r\n      redirectTo: 'https://candigo.vercel.app/reset-password', // Cambia esta URL según tu app\r\n    });\r\n    if (error) setMessage('Error: ' + error.message);\r\n    else setMessage('Revisa tu correo para restablecer la contraseña.');\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (mode === 'login') await handleLogin();\r\n    else if (mode === 'signup') await handleSignup();\r\n    else if (mode === 'reset') await handleResetPassword();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/* Header fijo */}\r\n      <header className=\"header\">\r\n        <div className=\"header-left\">CandiGo</div>\r\n        <div className=\"header-right\">\r\n          <button className=\"header-btn\" onClick={() => router.push('/nosotros')}>\r\n            Nosotros\r\n          </button>\r\n          <button className=\"header-btn\" onClick={() => router.push('/contactanos')}>\r\n            Contactanos\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"main-content-area\"> {/* Cambiado de main-container a main-content-area para mejor semántica */}\r\n        {/* Login/signup/reset a la izquierda */}\r\n        <div className=\"auth-form-container\"> {/* Cambiado a auth-form-container */}\r\n          <div className=\"form-card\"> {/* Agregado form-card para el estilo de la tarjeta del formulario */}\r\n            <div className=\"heading\">\r\n              {mode === 'login' && '¡Bienvenido!'}\r\n              {mode === 'signup' && 'Crear Cuenta'}\r\n              {mode === 'reset' && 'Restablecer Contraseña'}\r\n            </div>\r\n            <form className=\"form\" onSubmit={handleSubmit}>\r\n              {mode === 'signup' && (\r\n                <input\r\n                  placeholder=\"Nombre completo\"\r\n                  className=\"input\"\r\n                  required\r\n                  value={fullName}\r\n                  onChange={(e) => {\r\n                    setFullName(e.target.value);\r\n                    setMessage('');\r\n                  }}\r\n                />\r\n              )}\r\n              <input\r\n                placeholder=\"Correo Electrónico\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                className=\"input\"\r\n                required\r\n                value={email}\r\n                onChange={(e) => {\r\n                  setEmail(e.target.value);\r\n                  setMessage('');\r\n                }}\r\n              />\r\n              {(mode === 'login' || mode === 'signup') && (\r\n                <input\r\n                  placeholder=\"Contraseña\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  className=\"input\"\r\n                  required\r\n                  value={password}\r\n                  onChange={(e) => {\r\n                    setPassword(e.target.value);\r\n                    setMessage('');\r\n                  }}\r\n                />\r\n              )}\r\n              {mode === 'login' && (\r\n                <span className=\"forgot-password\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"link-btn\"\r\n                    onClick={() => {\r\n                      setMode('reset');\r\n                      setMessage('');\r\n                    }}\r\n                  >\r\n                    ¿Olvidaste tu contraseña?\r\n                  </button>\r\n                </span>\r\n              )}\r\n              <input\r\n                value={\r\n                  isSubmitting\r\n                    ? mode === 'login'\r\n                      ? 'Iniciando sesión...'\r\n                      : mode === 'signup'\r\n                      ? 'Creando cuenta...'\r\n                      : 'Enviando correo...'\r\n                    : mode === 'login'\r\n                    ? 'Iniciar Sesión'\r\n                    : mode === 'signup'\r\n                    ? 'Crear Cuenta'\r\n                    : 'Enviar correo'\r\n                }\r\n                type=\"submit\"\r\n                className=\"submit-button\" \r\n                disabled={isSubmitting}\r\n              />\r\n            </form>\r\n            <p style={{ color: '#E74C3C', textAlign: 'center', marginTop: '1rem' }}>{message}</p> {/* Color rojo más específico */}\r\n            <div style={{ marginTop: '1rem', textAlign: 'center' }}>\r\n              {mode === 'login' && (\r\n                <button className=\"link-btn\" onClick={() => setMode('signup')}>\r\n                  Crear una cuenta nueva\r\n                </button>\r\n              )}\r\n              {(mode === 'signup' || mode === 'reset') && (\r\n                <button className=\"link-btn\" onClick={() => setMode('login')}>\r\n                  Volver a iniciar sesión\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sección de Bienvenida Visual a la derecha */}\r\n        <div className=\"welcome-visual-container\"> {/* Cambiado a welcome-visual-container */}\r\n          <div className=\"welcome-content\">\r\n            <h1 className=\"welcome-title\">Tu Voz, Tu Futuro</h1>\r\n            <p className=\"welcome-subtitle\">\r\n              Participa en elecciones transparentes y seguras.\r\n            </p>\r\n            {/* Puedes mantener tu logo si encaja, o usar una ilustración general */}\r\n            <img src=\"/LogoSolo.png\" alt=\"CandiGo Logo\" className=\"welcome-image\" /> \r\n            {/* El botón de descarga ahora es más un CTA complementario */}\r\n            <button className=\"welcome-cta-button\">Descargar Nuestra App</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgC;IAC/D,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,cAAc;QAClB,gBAAgB;QAChB,WAAW;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;YAAE;YAAO;QAAS;QAC3E,IAAI,OAAO,WAAW,YAAY,MAAM,OAAO;aAC1C,OAAO,IAAI,CAAC;QACjB,gBAAgB;IAClB;IAEA,MAAM,eAAe;QACnB,gBAAgB;QAChB,WAAW;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;YAC3C;YACA;YACA,SAAS;gBACP,MAAM;oBACJ,WAAW;gBACb;YACF;QACF;QACA,IAAI,OAAO,WAAW,YAAY,MAAM,OAAO;aAC1C,WAAW;QAChB,gBAAgB;IAClB;IAEA,MAAM,sBAAsB;QAC1B,gBAAgB;QAChB,WAAW;QACX,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4HAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,qBAAqB,CAAC,OAAO;YACjE,YAAY;QACd;QACA,IAAI,OAAO,WAAW,YAAY,MAAM,OAAO;aAC1C,WAAW;QAChB,gBAAgB;IAClB;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,SAAS,SAAS,MAAM;aACvB,IAAI,SAAS,UAAU,MAAM;aAC7B,IAAI,SAAS,SAAS,MAAM;IACnC;IAEA,qBACE;;0BAEE,8OAAC;gBAAO,WAAU;;kCAChB,8OAAC;wBAAI,WAAU;kCAAc;;;;;;kCAC7B,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;gCAAa,SAAS,IAAM,OAAO,IAAI,CAAC;0CAAc;;;;;;0CAGxE,8OAAC;gCAAO,WAAU;gCAAa,SAAS,IAAM,OAAO,IAAI,CAAC;0CAAiB;;;;;;;;;;;;;;;;;;0BAM/E,8OAAC;gBAAI,WAAU;;oBAAoB;kCAEjC,8OAAC;wBAAI,WAAU;;4BAAsB;0CACnC,8OAAC;gCAAI,WAAU;;oCAAY;kDACzB,8OAAC;wCAAI,WAAU;;4CACZ,SAAS,WAAW;4CACpB,SAAS,YAAY;4CACrB,SAAS,WAAW;;;;;;;kDAEvB,8OAAC;wCAAK,WAAU;wCAAO,UAAU;;4CAC9B,SAAS,0BACR,8OAAC;gDACC,aAAY;gDACZ,WAAU;gDACV,QAAQ;gDACR,OAAO;gDACP,UAAU,CAAC;oDACT,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC1B,WAAW;gDACb;;;;;;0DAGJ,8OAAC;gDACC,aAAY;gDACZ,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,WAAU;gDACV,QAAQ;gDACR,OAAO;gDACP,UAAU,CAAC;oDACT,SAAS,EAAE,MAAM,CAAC,KAAK;oDACvB,WAAW;gDACb;;;;;;4CAED,CAAC,SAAS,WAAW,SAAS,QAAQ,mBACrC,8OAAC;gDACC,aAAY;gDACZ,IAAG;gDACH,MAAK;gDACL,MAAK;gDACL,WAAU;gDACV,QAAQ;gDACR,OAAO;gDACP,UAAU,CAAC;oDACT,YAAY,EAAE,MAAM,CAAC,KAAK;oDAC1B,WAAW;gDACb;;;;;;4CAGH,SAAS,yBACR,8OAAC;gDAAK,WAAU;0DACd,cAAA,8OAAC;oDACC,MAAK;oDACL,WAAU;oDACV,SAAS;wDACP,QAAQ;wDACR,WAAW;oDACb;8DACD;;;;;;;;;;;0DAKL,8OAAC;gDACC,OACE,eACI,SAAS,UACP,wBACA,SAAS,WACT,sBACA,uBACF,SAAS,UACT,mBACA,SAAS,WACT,iBACA;gDAEN,MAAK;gDACL,WAAU;gDACV,UAAU;;;;;;;;;;;;kDAGd,8OAAC;wCAAE,OAAO;4CAAE,OAAO;4CAAW,WAAW;4CAAU,WAAW;wCAAO;kDAAI;;;;;;oCAAY;kDACrF,8OAAC;wCAAI,OAAO;4CAAE,WAAW;4CAAQ,WAAW;wCAAS;;4CAClD,SAAS,yBACR,8OAAC;gDAAO,WAAU;gDAAW,SAAS,IAAM,QAAQ;0DAAW;;;;;;4CAIhE,CAAC,SAAS,YAAY,SAAS,OAAO,mBACrC,8OAAC;gDAAO,WAAU;gDAAW,SAAS,IAAM,QAAQ;0DAAU;;;;;;;;;;;;;;;;;;;;;;;;kCAStE,8OAAC;wBAAI,WAAU;;4BAA2B;0CACxC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDAAgB;;;;;;kDAC9B,8OAAC;wCAAE,WAAU;kDAAmB;;;;;;kDAIhC,8OAAC;wCAAI,KAAI;wCAAgB,KAAI;wCAAe,WAAU;;;;;;kDAEtD,8OAAC;wCAAO,WAAU;kDAAqB;;;;;;;;;;;;;;;;;;;;;;;;;;AAMnD","debugId":null}}]
}