{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/lib/supabaseClient.ts"],"sourcesContent":["'use client';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { useEffect } from 'react';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true,\r\n  },\r\n});\r\n\r\nexport function useAuth(onAuth: (session: any) => void) {\r\n  useEffect(() => {\r\n    const { data: subscription } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (event === 'SIGNED_IN') {\r\n          onAuth(session);\r\n        } else if (event === 'SIGNED_OUT') {\r\n          onAuth(null);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => subscription?.subscription?.unsubscribe();\r\n  }, [onAuth]);\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAIA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF;AAEO,SAAS,QAAQ,MAA8B;IACpD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB,CAC5D,OAAO,OAAO;YACZ,IAAI,UAAU,aAAa;gBACzB,OAAO;YACT,OAAO,IAAI,UAAU,cAAc;gBACjC,OAAO;YACT;QACF;QAGF,OAAO,IAAM,cAAc,cAAc;IAC3C,GAAG;QAAC;KAAO;AACb","debugId":null}},
    {"offset": {"line": 129, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/app/page.tsx"],"sourcesContent":["'use client';\nimport { useState } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\nimport { useRouter } from 'next/navigation';\nimport './CSS/Login.css';    // Estilos del login (form)\nimport './CSS/layout.css';   // Header y layout\n\nexport default function Home() {\n  const router = useRouter();\n\n  // Estados para el modo: login o signup o reset\n  const [mode, setMode] = useState<'login' | 'signup' | 'reset'>('login');\n\n  // Datos del formulario\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [fullName, setFullName] = useState(''); // solo para signup\n  const [message, setMessage] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Función para login\n  const handleLogin = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.signInWithPassword({ email, password });\n    if (error) setMessage('Error: ' + error.message);\n    else router.push('/dashboard');\n    setIsSubmitting(false);\n  };\n\n  // Función para crear cuenta\n  const handleSignup = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        data: { full_name: fullName },\n      },\n    });\n    if (error) setMessage('Error: ' + error.message);\n    else setMessage('Cuenta creada, revisa tu correo para confirmar.');\n    setIsSubmitting(false);\n  };\n\n  // Función para reset password\n  const handleResetPassword = async () => {\n    setIsSubmitting(true);\n    setMessage('');\n    const { error } = await supabase.auth.resetPasswordForEmail(email, {\n      redirectTo: 'https://candigo.vercel.app/reset-password', // Cambia esta URL según tu app\n    });\n    if (error) setMessage('Error: ' + error.message);\n    else setMessage('Revisa tu correo para restablecer blee la contraseña.');\n    setIsSubmitting(false);\n  };\n\n  // Manejador del submit según modo\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (mode === 'login') await handleLogin();\n    else if (mode === 'signup') await handleSignup();\n    else if (mode === 'reset') await handleResetPassword();\n  };\n\n  return (\n    <>\n      {/* Header fijo */}\n      <header className=\"header\">\n        <div className=\"header-left\">CandiGo</div>\n        <div className=\"header-right\">\n          <button\n            className=\"header-btn\"\n            onClick={() => router.push('/nosotros')}\n          >Nosotros\n          </button>\n          <button\n            className=\"header-btn\"\n            onClick={() => router.push('/contactanos')}\n          >Contactanos\n          </button>\n        </div>\n      </header>\n\n      <div className=\"main-container\">\n        {/* Login/signup/reset a la izquierda */}\n        <div className=\"login-container\">\n          <div className=\"container\">\n            <div className=\"heading\">\n              {mode === 'login' && '¡Bienvenido!'}\n              {mode === 'signup' && 'Crear Cuenta'}\n              {mode === 'reset' && 'Restablecer Contraseña'}\n            </div>\n\n            <form className=\"form\" onSubmit={handleSubmit}>\n              {mode === 'signup' && (\n                <input\n                  placeholder=\"Nombre completo\"\n                  className=\"input\"\n                  required\n                  value={fullName}\n                  onChange={(e) => {\n                    setFullName(e.target.value);\n                    setMessage('');\n                  }}\n                />\n              )}\n\n              <input\n                placeholder=\"Correo Electrónico\"\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                className=\"input\"\n                required\n                value={email}\n                onChange={(e) => {\n                  setEmail(e.target.value);\n                  setMessage('');\n                }}\n              />\n\n              {(mode === 'login' || mode === 'signup') && (\n                <input\n                  placeholder=\"Contraseña\"\n                  id=\"password\"\n                  name=\"password\"\n                  type=\"password\"\n                  className=\"input\"\n                  required\n                  value={password}\n                  onChange={(e) => {\n                    setPassword(e.target.value);\n                    setMessage('');\n                  }}\n                />\n              )}\n\n              {mode === 'login' && (\n                <span className=\"forgot-password\">\n                  <button\n                    type=\"button\"\n                    className=\"link-btn\"\n                    onClick={() => {\n                      setMode('reset');\n                      setMessage('');\n                    }}\n                  >\n                    ¿Olvidaste tu contraseña?\n                  </button>\n                </span>\n              )}\n\n              <input\n                value={\n                  isSubmitting\n                    ? mode === 'login'\n                      ? 'Iniciando sesión...'\n                      : mode === 'signup'\n                      ? 'Creando cuenta...'\n                      : 'Enviando correo...'\n                    : mode === 'login'\n                    ? 'Iniciar Sesión'\n                    : mode === 'signup'\n                    ? 'Crear Cuenta'\n                    : 'Enviar correo'\n                }\n                type=\"submit\"\n                className=\"login-button\"\n                disabled={isSubmitting}\n              />\n            </form>\n\n            <p style={{ color: 'red', textAlign: 'center' }}>{message}</p>\n\n            <div style={{ marginTop: '1rem', textAlign: 'center' }}>\n              {mode === 'login' && (\n                <button className=\"link-btn\" onClick={() => setMode('signup')}>\n                  Crear una cuenta nueva\n                </button>\n              )}\n              {(mode === 'signup' || mode === 'reset') && (\n                <button className=\"link-btn\" onClick={() => setMode('login')}>\n                  Volver a iniciar sesión\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Imagen + botón a la derecha */}\n        <div className=\"right-container\">\n          <img src=\"/LogoSolo.png\" alt=\"Candidato 3\" className=\"logo-image\" />\n          <button className=\"download-btn\">Descargar</button>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}