{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/lib/supabaseClient.ts"],"sourcesContent":["'use client';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport { useEffect } from 'react';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true,\r\n  },\r\n});\r\n\r\nexport function useAuth(onAuth: (session: any) => void) {\r\n  useEffect(() => {\r\n    const { data: subscription } = supabase.auth.onAuthStateChange(\r\n      async (event, session) => {\r\n        if (event === 'SIGNED_IN') {\r\n          onAuth(session);\r\n        } else if (event === 'SIGNED_OUT') {\r\n          onAuth(null);\r\n        }\r\n      }\r\n    );\r\n\r\n    return () => subscription?.subscription?.unsubscribe();\r\n  }, [onAuth]);\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAIoB;AAHpB;AACA;;AAFA;;;AAIA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,CAAA,GAAA,0LAAA,CAAA,eAAY,AAAD,EAAE,aAAa,iBAAiB;IACjE,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF;AAEO,SAAS,QAAQ,MAA8B;;IACpD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACR,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,SAAS,IAAI,CAAC,iBAAiB;qCAC5D,OAAO,OAAO;oBACZ,IAAI,UAAU,aAAa;wBACzB,OAAO;oBACT,OAAO,IAAI,UAAU,cAAc;wBACjC,OAAO;oBACT;gBACF;;YAGF;qCAAO;wBAAM;2BAAA,yBAAA,oCAAA,6BAAA,aAAc,YAAY,cAA1B,iDAAA,2BAA4B,WAAW;;;QACtD;4BAAG;QAAC;KAAO;AACb;GAdgB","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Goliva/Desktop/CandiGo/fronted/src/app/candidatos/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\nimport { useEffect, useState } from 'react';\r\nimport { useParams, useRouter } from 'next/navigation';\r\nimport { supabase } from '@/lib/supabaseClient';\r\nimport './candidatos.css';\r\n\r\ninterface Candidato {\r\n  id: number;\r\n  nombre: string;\r\n  edad: number;\r\n  sexo: string;\r\n  escolaridad: string;\r\n  estatus_escolaridad: string;\r\n  direccion_casa_campa√±a: string;\r\n  telefono: string;\r\n  correo_electronico: string;\r\n  pagina_web: string;\r\n  partido_id: number;\r\n  cargo: string;\r\n  nivel: string;\r\n  entidad: string;\r\n  distrito_federal: string;\r\n  circunscripcion: string;\r\n  municipio: string;\r\n  estatus: string;\r\n  activo: boolean;\r\n}\r\n\r\ninterface Propuesta {\r\n  id: number;\r\n  candidato_id: number;\r\n  titulo: string;\r\n  descripcion: string;\r\n  categoria: string;\r\n}\r\n\r\ninterface Historia {\r\n  id: number;\r\n  candidato_id: number;\r\n  puesto: string;\r\n  institucion: string;\r\n  periodo: string;\r\n}\r\n\r\nexport default function CandidatoPage() {\r\n  const { id } = useParams();\r\n  const router = useRouter();\r\n\r\n  const [candidato, setCandidato] = useState<Candidato | null>(null);\r\n  const [propuestas, setPropuestas] = useState<Propuesta[]>([]);\r\n  const [historia, setHistoria] = useState<Historia[]>([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const { data: candidatoData } = await supabase\r\n        .from('candidatos')\r\n        .select('*')\r\n        .eq('id', id)\r\n        .single();\r\n\r\n      if (candidatoData) setCandidato(candidatoData);\r\n\r\n      const { data: propuestasData } = await supabase\r\n        .from('propuestas')\r\n        .select('*')\r\n        .eq('candidato_id', id);\r\n      setPropuestas(propuestasData || []);\r\n\r\n      const { data: historiaData } = await supabase\r\n        .from('historia_profesional')\r\n        .select('*')\r\n        .eq('candidato_id', id);\r\n      setHistoria(historiaData || []);\r\n    };\r\n    fetchData();\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    // delegaci√≥n: manejar todos los botones .card-toggle dentro de la p√°gina\r\n    const handler = (e: Event) => {\r\n      const btn = e.currentTarget as HTMLButtonElement;\r\n      const card = btn.closest('.card');\r\n      if (!card) return;\r\n      const expanded = card.classList.toggle('expanded');\r\n      btn.textContent = expanded ? 'Menos' : 'M√°s';\r\n    };\r\n\r\n    const buttons = Array.from(document.querySelectorAll<HTMLButtonElement>('.card-toggle'));\r\n    buttons.forEach(btn => btn.addEventListener('click', handler));\r\n\r\n    return () => buttons.forEach(btn => btn.removeEventListener('click', handler));\r\n  }, []);\r\n\r\n  if (!candidato) {\r\n    return <p className=\"loading\">Cargando perfil...</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"perfil-container\">\r\n      <header className=\"perfil-header\">\r\n        <h1>CandiGo</h1>\r\n        <button onClick={() => router.back()} className=\"back-btn\">\r\n          Regresar\r\n        </button>\r\n      </header>\r\n\r\n      <main className=\"perfil-content\">\r\n        <section className=\"perfil-card\">\r\n          <div className=\"perfil-avatar\">\r\n            <div className=\"avatar-circle\">{candidato.nombre[0]}</div>\r\n          </div>\r\n\r\n          <div className=\"perfil-info\">\r\n            <h2>{candidato.nombre}</h2>\r\n            <p className=\"cargo\">{candidato.cargo}</p>\r\n            <div className=\"perfil-data\">\r\n              <p><strong>Edad:</strong> {candidato.edad}</p>\r\n              <p><strong>Sexo:</strong> {candidato.sexo}</p>\r\n              <p><strong>Escolaridad:</strong> {candidato.escolaridad} ({candidato.estatus_escolaridad})</p>\r\n              <p><strong>Entidad:</strong> {candidato.entidad}</p>\r\n              <p><strong>Municipio:</strong> {candidato.municipio}</p>\r\n              <p><strong>Correo:</strong> {candidato.correo_electronico}</p>\r\n              <p><strong>Tel√©fono:</strong> {candidato.telefono}</p>\r\n              <p><strong>Web:</strong> <a href={candidato.pagina_web} target=\"_blank\">{candidato.pagina_web}</a></p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"perfil-section\">\r\n          <h3>üó≥Ô∏è Propuestas</h3>\r\n          <div className=\"grid\">\r\n            {propuestas.length > 0 ? propuestas.map(p => (\r\n              <div key={p.id} className=\"card\">\r\n                <h4>{p.titulo}</h4>\r\n                <p>{p.descripcion}</p>\r\n                <span>{p.categoria}</span>\r\n              </div>\r\n            )) : <p className=\"no-data\">Sin propuestas registradas.</p>}\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"perfil-section\">\r\n          <h3>üìò Experiencia Profesional</h3>\r\n          <div className=\"grid\">\r\n            {historia.length > 0 ? historia.map(h => (\r\n              <div key={h.id} className=\"card\">\r\n                <h4>{h.puesto}</h4>\r\n                <p>{h.institucion}</p>\r\n                <span>{h.periodo}</span>\r\n              </div>\r\n            )) : <p className=\"no-data\">No hay historial profesional registrado.</p>}\r\n          </div>\r\n        </section>\r\n      </main>\r\n\r\n      <footer className=\"perfil-footer\">\r\n        ¬© 2025 CandiGo ¬∑ Plataforma electoral segura y transparente.\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}